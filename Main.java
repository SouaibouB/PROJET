public class Main {
    public static void main(String[] args) {
        if (args.length < 4 || args.length > 5) {
            System.out.println("Usage: java Main -m [MODE ATTAQUE] -h [HASH]");
            System.exit(0);
        }
        String mode = "";
        String hash = "";
        for (int i = 0; i < args.length; i += 2) {
            if (args[i].equals("-m")) {
                mode = args[i + 1].toUpperCase(); 
            } else if (args[i].equals("-h")) {
                hash = args[i + 1];
            } else {
                System.out.println("Paramètre non reconnu: " + args[i]);
                System.exit(0);
            }
        }
        PasswordCrackerFactory.PasswordCracker cracker=null;
        if (mode.equals("BRUTEFORCE")) {
            cracker = PasswordCrackerFactory.getPasswordCracker("BRUTEFORCE");
        } else if (mode.equals("DICTIONARY")) {
            cracker = PasswordCrackerFactory.getPasswordCracker("DICTIONARY");
        } else {
            System.out.println("Mode d'attaque non reconnu.");
            System.exit(0);
        }
        System.out.println("                                                                \r\n" + //
                        "                         *%@%@@%%#@@%%=                         \r\n" + //
                        "                   :@@%@@@@@***+=+*@%@@@@@@%                    \r\n" + //
                        "                *%@@@@%@%@-=:-==-==+=@@@@%@%@#@-                \r\n" + //
                        "             =@@@#%@@@%@*=:-.:--:.-=-*#@@%@@@#@@%@              \r\n" + //
                        "           *@@@@@@@@@@@@+--::.:--==++**@@@@@@@@@@@@@.           \r\n" + //
                        "         -@@%##%%*%%@@%*:-.: ::..::-:==#@#@@%*@%#@%#%%          \r\n" + //
                        "        %%@@##@%%##%@@+=:- . :.: ...:++*@@@*%*@*%@@%@*@*        \r\n" + //
                        "       *@#@@#%@%%%%%@@=- . . ... ::=-+=**@@+@*@*%@@#%#@*%       \r\n" + //
                        "     .@*@%@@#*@%#*%@@*::.    ...  :-:=-+*+@@%+@##@@##*@*#%      \r\n" + //
                        "     %@%%%@@%@%@@@@@*-. ..-=+*###****++==+*@@@%%%%%%%%%%@%#     \r\n" + //
                        "    %+%=%*%%**###*#-=*%@@@@@@@@@@@@@@@@@@=++%*%#*%#*#*%=#*%#    \r\n" + //
                        "   +%=%*%#%%+*%#*--*@@@@@@@@@@@@@@@@@@@@@##-+=%=#%%*#+%+%=%%    \r\n" + //
                        "   *%=%+%*%%+*%#+=++#*+@%@@@@@@@@@@@@@@@@+- :.+-#%%*#+%+%=%%#   \r\n" + //
                        "  :*%+%+%*%%**%#+-:  .-+#@@@@@@@@@@@@@@@%=.   :*+%#**+%+**%%#   \r\n" + //
                        "  +%%%%#%#%%%%#%%:   ..-%@@@@@@@@@@@@@@@+.    *%%%#%#%%#%%%%%.  \r\n" + //
                        "  +*%+#-%=%%***##=     .*@@@@@@@@@@@@@@@.    :***%#+*+#=**%%#-  \r\n" + //
                        "  *=%=%+#*%%++=:. .     :@#@@@@@@@@@%@*.   :#-*-====#+%+%+%%+-  \r\n" + //
                        "  ++%+%*%**-::-::...-: :.%@@@@@@@@@@%%..##:+#-+:---:-=%+%+%%#.  \r\n" + //
                        "  :*%+%+%:--::-::.:.-:++.=#@%@@@##%@# =@@#:*=:=--=-:-.++**%%#   \r\n" + //
                        "   %%%%% ---==-------+=++++@@@@@@@@@.@@%*+:*+===+==-*=:%%%@@#   \r\n" + //
                        "   +%+%  .:.::.::.::-+:+.=:+*@@%##%#%#++=:--+-==-=-.*:: #*@%    \r\n" + //
                        "    %+# ..: ::---:-:=+:+-+:-=@@%####*--+=== +-+-++=-#---+*@#    \r\n" + //
                        "     *::= : -----=-.++-*-+--:#@@%%*#-=-++=+ =-+=+++-*-=--#%     \r\n" + //
                        "     .--+.------=-.:+=-*-=--:=@@#++=:=-++=+-:-*+=+*=+:+-+*      \r\n" + //
                        "       +=:---==--=.====+++==-=%@@*++==++++++.+#***#*%=**%       \r\n" + //
                        "        *.-=:-::: .-==:+:+--:=+@#+=+-:=+**==.:=++-@%-+=*        \r\n" + //
                        "         ==+::-:-:-:===+-+:--==@%++*:--+***+-.+=+-@**#          \r\n" + //
                        "           **#+--=--++-+-+-*=++#%===-+=+*+*-=-#=#%@*-           \r\n" + //
                        "             =#==:--++-+-+-=-=+*%:=+-+=+*+**+-##%@              \r\n" + //
                        "                **+=+=====-====+%*+=+++****+#=*=                \r\n" + //
                        "                   :#+:=.=:=:==--=-=-=-++-#*                    \r\n" + //
                        "                         ***=+++++++*#=                         \r\n" + //
                        "                                                                ");
        System.out.println("Démarrage de l'attaque...");
        cracker.crack(hash);
    }
}
